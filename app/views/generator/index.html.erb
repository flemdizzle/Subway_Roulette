<% array = [] %>

<!-- Meat Chooser -->
<% meatCnt = rand(5) %>
<% if meatCnt > 0 %>
	<%= chooser(Meat,15).meat %><br>on<br>
<% else %>
	<%= nil %>
<% end %>

<!-- Bread Chooser -->
<%= chooser(Bread,5).bread %><br>
with<br>

<!-- Cheese Chooser -->
<% cheeseCnt = rand(3) %>
<% cheeseCnt.times do %>
	<% array << chooser(Cheese,2).cheese %>
<% end %>

<!-- Vegetable Chooser -->
<% vegetablesCnt = rand(10) %>
<% vegetablesCnt.times do %>
	<% array << chooser(Vegetables,10).vegetables %>
<% end %>

<!-- Toppings Chooser -->
<% toppingsCnt = rand(5) %>
<% toppingsCnt.times do %>
	<% array << chooser(Toppings,9).toppings %>
<% end %>

<% ingredientAry = [] %>
<% used = [] %>
<% array.each do |ingredient| %>
	<% if ingredientAry.include? ingredient %>
		<% ingredientAry.map! {|x| x == ingredient ? "Double #{ingredient}" : x } %>
		<% used << ingredient %>
	<% elsif used.include? ingredient %>
		<% nil %>
	<% else %>
		<% ingredientAry << ingredient %>
	<% end %>
<% end %>

<%= ingredientAry.uniq.to_sentence %>
<br>
<%= link_to "Choose Again!", 'index' %>
<br>




